<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Admin Edit page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link th:href="@{/style/edit.css}" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>
<div class="container">
    <div class="header">
        <h1 class="logo">Cr√©puscule</h1>
        <h5>for managers</h5>
    </div>

    <h5>Edit Product</h5>
    <br>
    <table class="table table-bordered table-striped" style="width: 100%">
        <tbody>
        <tr>
            <td>Name</td>
            <td>
                <input type="text" name="name" placeholder="Blog head" id="name" style="width: 512px" th:value="${product.getHead()}"> </input>
            </td>
        </tr>

        <tr>
            <td>Price</td>
            <td>
                <input type="text" name="price" placeholder="Blog author" id="price" style="width: 512px" th:value="${product.getAuthor()}"> </input>
            </td>
        </tr>

        <tr>
            <td>Image</td>
            <td>
                <input type="file" name="image" placeholder="Blog image" id="image" style="width: 512px" th:value="${product.getImage()}"> </input>
            </td>
        </tr>

        <tr>
            <td>Details</td>
            <td>
                <input type="text" name="details" placeholder="Blog text" id="details" style="width: 512px" th:value="${product.getText()}"> </input>
            </td>
        </tr>
        </tbody>
    </table>
    <button onclick="edits()"> Submit</button>
</div>
</body>

<script>
    function edits() {
        let id = document.getElementById("id").value;
        let name = document.getElementById("name").value;
        let price = document.getElementById("price").value;
        let image = document.getElementById("image").value;
        let description = document.getElementById("describe").value;
        let file = "-img-";

        for(let i = 0; i < image.length; i++) {
            if(i > 11) {
                file += image.charAt(i);
            }
        }

        window.location.replace("http://localhost:8080/main/blog/edit/id/" + id + "/name/" + name + "/price/" + price
            + "/image/" + file + "/details/" + description);
    }
</script>
</html>